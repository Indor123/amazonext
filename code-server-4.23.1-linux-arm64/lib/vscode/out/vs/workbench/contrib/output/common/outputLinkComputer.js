"use strict";/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var M=["require","exports","vs/base/common/platform","vs/base/common/strings","vs/base/common/extpath","vs/base/common/path","vs/base/common/network","vs/base/common/uri","vs/base/common/resources","vs/base/common/types","vs/base/common/errors","vs/workbench/contrib/output/common/outputLinkComputer","vs/editor/common/core/range"],N=function(k){for(var t=[],g=0,h=k.length;g<h;g++)t[g]=M[k[g]];return t};define(M[4],N([0,1,5,2,3,9]),function(k,t,g,h,a,P){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$bg=y,t.$cg=b,t.$dg=A,t.$eg=C,t.$fg=E,t.$gg=e,t.$hg=n,t.$ig=r,t.$jg=l,t.$kg=f,t.$lg=u,t.$mg=d,t.$ng=L,t.$og=T,t.$pg=U,t.$qg=j;function y(i){return i===47||i===92}function b(i){return i.replace(/[\\/]/g,g.$hc.sep)}function A(i){return i.indexOf("/")===-1&&(i=b(i)),/^[a-zA-Z]:(\/|$)/.test(i)&&(i="/"+i),i}function C(i,c=g.$hc.sep){if(!i)return"";const s=i.length,m=i.charCodeAt(0);if(y(m)){if(y(i.charCodeAt(1))&&!y(i.charCodeAt(2))){let v=3;const I=v;for(;v<s&&!y(i.charCodeAt(v));v++);if(I!==v&&!y(i.charCodeAt(v+1))){for(v+=1;v<s;v++)if(y(i.charCodeAt(v)))return i.slice(0,v+1).replace(/[\\/]/g,c)}}return c}else if(l(m)&&i.charCodeAt(1)===58)return y(i.charCodeAt(2))?i.slice(0,2)+c:i.slice(0,2);let w=i.indexOf("://");if(w!==-1){for(w+=3;w<s;w++)if(y(i.charCodeAt(w)))return i.slice(0,w+1)}return""}function E(i){if(!h.$c||!i||i.length<5)return!1;let c=i.charCodeAt(0);if(c!==92||(c=i.charCodeAt(1),c!==92))return!1;let s=2;const m=s;for(;s<i.length&&(c=i.charCodeAt(s),c!==92);s++);return!(m===s||(c=i.charCodeAt(s+1),isNaN(c)||c===92))}const O=/[\\/:\*\?"<>\|]/g,$=/[\\/]/g,o=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function e(i,c=h.$c){const s=c?O:$;return!(!i||i.length===0||/^\s+$/.test(i)||(s.lastIndex=0,s.test(i))||c&&o.test(i)||i==="."||i===".."||c&&i[i.length-1]==="."||c&&i.length!==i.trim().length||i.length>255)}function n(i,c,s){const m=i===c;return!s||m?m:!i||!c?!1:(0,a.$lf)(i,c)}function r(i,c,s,m=g.sep){if(i===c)return!0;if(!i||!c||c.length>i.length)return!1;if(s){if(!(0,a.$mf)(i,c))return!1;if(c.length===i.length)return!0;let v=c.length;return c.charAt(c.length-1)===m&&v--,i.charAt(v)===m}return c.charAt(c.length-1)!==m&&(c+=m),i.indexOf(c)===0}function l(i){return i>=65&&i<=90||i>=97&&i<=122}function f(i,c){return h.$c&&i.endsWith(":")&&(i+=g.sep),(0,g.$jc)(i)||(i=(0,g.$kc)(c,i)),i=(0,g.$ic)(i),h.$c?(i=(0,a.$6e)(i,g.sep),i.endsWith(":")&&(i+=g.sep)):(i=(0,a.$6e)(i,g.sep),i||(i=g.sep)),i}function u(i){const c=(0,g.$ic)(i);return h.$c?i.length>3?!1:d(c)&&(i.length===2||c.charCodeAt(2)===92):c===g.$hc.sep}function d(i,c=h.$c){return c?l(i.charCodeAt(0))&&i.charCodeAt(1)===58:!1}function L(i,c=h.$c){return d(i,c)?i[0]:void 0}function T(i,c,s){return c.length>i.length?-1:i===c?0:(s&&(i=i.toLowerCase(),c=c.toLowerCase()),i.indexOf(c))}function U(i){const c=i.split(":");let s,m,w;for(const v of c){const I=Number(v);(0,P.$Zf)(I)?m===void 0?m=I:w===void 0&&(w=I):s=s?[s,v].join(":"):v}if(!s)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:s,line:m!==void 0?m:void 0,column:w!==void 0?w:m!==void 0?1:void 0}}const q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",R="BDEFGHIJKMOQRSTUVWXYZbdefghijkmoqrstuvwxyz0123456789";function j(i,c,s=8){let m="";for(let v=0;v<s;v++){let I;v===0&&h.$c&&!c&&(s===3||s===4)?I=R:I=q,m+=I.charAt(Math.floor(Math.random()*I.length))}let w;return c?w=`${c}-${m}`:w=m,i?(0,g.$kc)(i,w):w}}),define(M[6],N([0,1,10,2,3,7,5]),function(k,t,g,h,a,P,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COI=t.$Cg=t.$Bg=t.$Ag=t.$zg=t.$yg=t.$xg=t.$vg=t.$ug=t.$tg=t.Schemas=void 0,t.$rg=A,t.$sg=C,t.$wg=O;var b;(function(e){e.inMemory="inmemory",e.vscode="vscode",e.internal="private",e.walkThrough="walkThrough",e.walkThroughSnippet="walkThroughSnippet",e.http="http",e.https="https",e.file="file",e.mailto="mailto",e.untitled="untitled",e.data="data",e.command="command",e.vscodeRemote="vscode-remote",e.vscodeRemoteResource="vscode-remote-resource",e.vscodeManagedRemoteResource="vscode-managed-remote-resource",e.vscodeUserData="vscode-userdata",e.vscodeCustomEditor="vscode-custom-editor",e.vscodeNotebookCell="vscode-notebook-cell",e.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",e.vscodeNotebookCellOutput="vscode-notebook-cell-output",e.vscodeInteractiveInput="vscode-interactive-input",e.vscodeSettings="vscode-settings",e.vscodeWorkspaceTrust="vscode-workspace-trust",e.vscodeTerminal="vscode-terminal",e.vscodeChatCodeBlock="vscode-chat-code-block",e.vscodeChatSesssion="vscode-chat-editor",e.webviewPanel="webview-panel",e.vscodeWebview="vscode-webview",e.extension="extension",e.vscodeFileResource="vscode-file",e.tmp="tmp",e.vsls="vsls",e.vscodeSourceControl="vscode-scm",e.codeSetting="code-setting"})(b||(t.Schemas=b={}));function A(e,n){return P.URI.isUri(e)?(0,a.$lf)(e.scheme,n):(0,a.$mf)(e,n+":")}function C(e,...n){return n.some(r=>A(e,r))}t.$tg="vscode-tkn",t.$ug="tkn";class E{constructor(){this.a=Object.create(null),this.b=Object.create(null),this.c=Object.create(null),this.d="http",this.e=null,this.f="/"}setPreferredWebSchema(n){this.d=n}setDelegate(n){this.e=n}setServerRootPath(n,r){this.f=O(n,r)}getServerRootPath(){return this.f}get g(){return y.$hc.join(this.f,b.vscodeRemoteResource)}set(n,r,l){this.a[n]=r,this.b[n]=l}setConnectionToken(n,r){this.c[n]=r}getPreferredWebSchema(){return this.d}rewrite(n){if(this.e)try{return this.e(n)}catch(L){return g.$1(L),n}const r=n.authority;let l=this.a[r];l&&l.indexOf(":")!==-1&&l.indexOf("[")===-1&&(l=`[${l}]`);const f=this.b[r],u=this.c[r];let d=`path=${encodeURIComponent(n.path)}`;return typeof u=="string"&&(d+=`&${t.$ug}=${encodeURIComponent(u)}`),P.URI.from({scheme:h.$i?this.d:b.vscodeRemoteResource,authority:`${l}:${f}`,path:h.$i?(window.location.pathname+"/"+this.g).replace(/\/\/+/g,"/"):this.g,query:d})}}t.$vg=new E;function O(e,n){return y.$hc.join(n??"/",`${e.quality??"oss"}-${e.commit??"dev"}`)}t.$xg="vs/../../extensions",t.$yg="vs/../../node_modules",t.$zg="vs/../../node_modules.asar",t.$Ag="vs/../../node_modules.asar.unpacked",t.$Bg="vscode-app";class ${asBrowserUri(n){const r=this.b(n,k);return this.uriToBrowserUri(r)}uriToBrowserUri(n){return n.scheme===b.vscodeRemote?t.$vg.rewrite(n):n.scheme===b.file&&(h.$g||h.$k===`${b.vscodeFileResource}://${$.a}`)?n.with({scheme:b.vscodeFileResource,authority:n.authority||$.a,query:null,fragment:null}):n}asFileUri(n){const r=this.b(n,k);return this.uriToFileUri(r)}uriToFileUri(n){return n.scheme===b.vscodeFileResource?n.with({scheme:b.file,authority:n.authority!==$.a?n.authority:null,query:null,fragment:null}):n}b(n,r){return P.URI.isUri(n)?n:P.URI.parse(r.toUrl(n))}}$.a=t.$Bg,t.$Cg=new $;var o;(function(e){const n=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);e.CoopAndCoep=Object.freeze(n.get("3"));const r="vscode-coi";function l(u){let d;typeof u=="string"?d=new URL(u).searchParams:u instanceof URL?d=u.searchParams:P.URI.isUri(u)&&(d=new URL(u.toString(!0)).searchParams);const L=d?.get(r);if(L)return n.get(L)}e.getHeadersFromQuery=l;function f(u,d,L){if(!globalThis.crossOriginIsolated)return;const T=d&&L?"3":L?"2":"1";u instanceof URLSearchParams?u.set(r,T):u[r]=T}e.addSearchParam=f})(o||(t.COI=o={}))}),define(M[8],N([0,1,4,6,5,2,3,7]),function(k,t,g,h,a,P,y,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataUri=t.$4g=t.$3g=t.$2g=t.$1g=t.$Zg=t.$Yg=t.$Xg=t.$Wg=t.$Vg=t.$Ug=t.$Tg=t.$Sg=t.$Rg=t.$Qg=t.$Pg=t.$Og=t.$Ng=t.$Mg=t.$Lg=t.$Kg=void 0,t.$Jg=A,t.$5g=E,t.$6g=$;function A(o){return(0,b.$xc)(o,!0)}class C{constructor(e){this.a=e}compare(e,n,r=!1){return e===n?0:(0,y.$ef)(this.getComparisonKey(e,r),this.getComparisonKey(n,r))}isEqual(e,n,r=!1){return e===n?!0:!e||!n?!1:this.getComparisonKey(e,r)===this.getComparisonKey(n,r)}getComparisonKey(e,n=!1){return e.with({path:this.a(e)?e.path.toLowerCase():void 0,fragment:n?null:void 0}).toString()}ignorePathCasing(e){return this.a(e)}isEqualOrParent(e,n,r=!1){if(e.scheme===n.scheme){if(e.scheme===h.Schemas.file)return g.$ig(A(e),A(n),this.a(e))&&e.query===n.query&&(r||e.fragment===n.fragment);if((0,t.$1g)(e.authority,n.authority))return g.$ig(e.path,n.path,this.a(e),"/")&&e.query===n.query&&(r||e.fragment===n.fragment)}return!1}joinPath(e,...n){return b.URI.joinPath(e,...n)}basenameOrAuthority(e){return(0,t.$Sg)(e)||e.authority}basename(e){return a.$hc.basename(e.path)}extname(e){return a.$hc.extname(e.path)}dirname(e){if(e.path.length===0)return e;let n;return e.scheme===h.Schemas.file?n=b.URI.file(a.$nc(A(e))).path:(n=a.$hc.dirname(e.path),e.authority&&n.length&&n.charCodeAt(0)!==47&&(console.error(`dirname("${e.toString})) resulted in a relative path`),n="/")),e.with({path:n})}normalizePath(e){if(!e.path.length)return e;let n;return e.scheme===h.Schemas.file?n=b.URI.file(a.$ic(A(e))).path:n=a.$hc.normalize(e.path),e.with({path:n})}relativePath(e,n){if(e.scheme!==n.scheme||!(0,t.$1g)(e.authority,n.authority))return;if(e.scheme===h.Schemas.file){const f=a.$mc(A(e),A(n));return P.$c?g.$cg(f):f}let r=e.path||"/";const l=n.path||"/";if(this.a(e)){let f=0;for(const u=Math.min(r.length,l.length);f<u&&!(r.charCodeAt(f)!==l.charCodeAt(f)&&r.charAt(f).toLowerCase()!==l.charAt(f).toLowerCase());f++);r=l.substr(0,f)+r.substr(f)}return a.$hc.relative(r,l)}resolvePath(e,n){if(e.scheme===h.Schemas.file){const r=b.URI.file(a.$lc(A(e),n));return e.with({authority:r.authority,path:r.path})}return n=g.$dg(n),e.with({path:a.$hc.resolve(e.path,n)})}isAbsolutePath(e){return!!e.path&&e.path[0]==="/"}isEqualAuthority(e,n){return e===n||e!==void 0&&n!==void 0&&(0,y.$lf)(e,n)}hasTrailingPathSeparator(e,n=a.sep){if(e.scheme===h.Schemas.file){const r=A(e);return r.length>g.$eg(r).length&&r[r.length-1]===n}else{const r=e.path;return r.length>1&&r.charCodeAt(r.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(e.fsPath)}}removeTrailingPathSeparator(e,n=a.sep){return(0,t.$2g)(e,n)?e.with({path:e.path.substr(0,e.path.length-1)}):e}addTrailingPathSeparator(e,n=a.sep){let r=!1;if(e.scheme===h.Schemas.file){const l=A(e);r=l!==void 0&&l.length===g.$eg(l).length&&l[l.length-1]===n}else{n="/";const l=e.path;r=l.length===1&&l.charCodeAt(l.length-1)===47}return!r&&!(0,t.$2g)(e,n)?e.with({path:e.path+"/"}):e}}t.$Kg=C,t.$Lg=new C(()=>!1),t.$Mg=new C(o=>o.scheme===h.Schemas.file?!P.$e:!0),t.$Ng=new C(o=>!0),t.$Og=t.$Lg.isEqual.bind(t.$Lg),t.$Pg=t.$Lg.isEqualOrParent.bind(t.$Lg),t.$Qg=t.$Lg.getComparisonKey.bind(t.$Lg),t.$Rg=t.$Lg.basenameOrAuthority.bind(t.$Lg),t.$Sg=t.$Lg.basename.bind(t.$Lg),t.$Tg=t.$Lg.extname.bind(t.$Lg),t.$Ug=t.$Lg.dirname.bind(t.$Lg),t.$Vg=t.$Lg.joinPath.bind(t.$Lg),t.$Wg=t.$Lg.normalizePath.bind(t.$Lg),t.$Xg=t.$Lg.relativePath.bind(t.$Lg),t.$Yg=t.$Lg.resolvePath.bind(t.$Lg),t.$Zg=t.$Lg.isAbsolutePath.bind(t.$Lg),t.$1g=t.$Lg.isEqualAuthority.bind(t.$Lg),t.$2g=t.$Lg.hasTrailingPathSeparator.bind(t.$Lg),t.$3g=t.$Lg.removeTrailingPathSeparator.bind(t.$Lg),t.$4g=t.$Lg.addTrailingPathSeparator.bind(t.$Lg);function E(o,e){const n=[];for(let r=0;r<o.length;r++){const l=e(o[r]);o.some((f,u)=>u===r?!1:(0,t.$Pg)(l,e(f)))||n.push(o[r])}return n}var O;(function(o){o.META_DATA_LABEL="label",o.META_DATA_DESCRIPTION="description",o.META_DATA_SIZE="size",o.META_DATA_MIME="mime";function e(n){const r=new Map;n.path.substring(n.path.indexOf(";")+1,n.path.lastIndexOf(";")).split(";").forEach(u=>{const[d,L]=u.split(":");d&&L&&r.set(d,L)});const f=n.path.substring(0,n.path.indexOf(";"));return f&&r.set(o.META_DATA_MIME,f),r}o.parseMetaData=e})(O||(t.DataUri=O={}));function $(o,e,n){if(e){let r=o.path;return r&&r[0]!==a.$hc.sep&&(r=a.$hc.sep+r),o.with({scheme:n,authority:e,path:r})}return o.with({scheme:n})}}),define(M[11],N([0,1,7,4,8,3,12,2,6]),function(k,t,g,h,a,P,y,b,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OutputLinkComputer=void 0,t.create=E;class C{constructor($,o){this.b=$,this.a=new Map,this.c(o)}c($){const o=$.workspaceFolders.sort((e,n)=>n.length-e.length).map(e=>g.URI.parse(e));for(const e of o){const n=C.createPatterns(e);this.a.set(e,n)}}d($){return this.b.getMirrorModels().find(e=>e.uri.toString()===$)}computeLinks($){const o=this.d($);if(!o)return[];const e=[],n=P.$$e(o.getValue());for(const[r,l]of this.a){const f={toResource:u=>typeof u=="string"?a.$Vg(r,u):null};for(let u=0,d=n.length;u<d;u++)e.push(...C.detectLinks(n[u],u+1,l,f))}return e}static createPatterns($){const o=[],e=$.scheme===A.Schemas.file?$.fsPath:$.path,n=[e];b.$c&&$.scheme===A.Schemas.file&&n.push(h.$cg(e));for(const r of n){const l=`[^\\s\\(\\):<>'"]`,u=`${`(?:${l}| ${l})`}+\\.${l}+`,d=`${l}+`;o.push(new RegExp(P.$Ze(r)+`(${u}) on line ((\\d+)(, column (\\d+))?)`,"gi")),o.push(new RegExp(P.$Ze(r)+`(${u}):line ((\\d+)(, column (\\d+))?)`,"gi")),o.push(new RegExp(P.$Ze(r)+`(${u})(\\s?\\((\\d+)(,(\\d+))?)\\)`,"gi")),o.push(new RegExp(P.$Ze(r)+`(${d})(:(\\d+))?(:(\\d+))?`,"gi"))}return o}static detectLinks($,o,e,n){const r=[];return e.forEach(l=>{l.lastIndex=0;let f,u=0;for(;(f=l.exec($))!==null;){const d=P.$6e(f[1],".").replace(/\\/g,"/");let L;try{const R=n.toResource(d);R&&(L=R.toString())}catch{continue}if(f[3]){const R=f[3];if(f[5]){const j=f[5];L=P.$Ve("{0}#{1},{2}",L,R,j)}else L=P.$Ve("{0}#{1}",L,R)}const T=P.$6e(f[0],"."),U=$.indexOf(T,u);u=U+T.length;const q={startColumn:U+1,startLineNumber:o,endColumn:U+1+T.length,endLineNumber:o};if(r.some(R=>y.$dt.areIntersectingOrTouching(R.range,q)))return;r.push({range:q,url:L})}}),r}}t.OutputLinkComputer=C;function E(O,$){return new C(O,$)}})}).call(this);

//# sourceMappingURL=outputLinkComputer.js.map
